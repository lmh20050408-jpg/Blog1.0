# ============================================
# 博客后端 API 环境配置模板
# ============================================
# 说明：
# 1. 复制此文件为 .env.development 或 .env.production
# 2. 根据实际环境修改配置值
# 3. 生产环境必须使用强密钥和安全配置
# 4. 不要将包含敏感信息的 .env 文件提交到版本控制
# ============================================

# ============================================
# 应用配置
# ============================================
# 运行环境: development | production | test
NODE_ENV=development

# 应用监听端口
PORT=3000

# 服务器基础 URL（用于生成文件访问链接）
# 开发环境: http://localhost:3000
# 生产环境: https://yourdomain.com 或 http://your-server-ip
# 如果不设置，将自动从请求头中获取（推荐）
SERVER_BASE_URL=

# ============================================
# PostgreSQL 数据库配置
# ============================================
# 数据库主机地址
DB_HOST=localhost

# 数据库端口
DB_PORT=5432

# 数据库名称
DB_NAME=blog_db

# 数据库用户名
DB_USER=postgres

# 数据库密码
DB_PASSWORD=0408

# 数据库连接池配置（可选）
# DB_POOL_MAX=5
# DB_POOL_MIN=0
# DB_POOL_ACQUIRE=30000
# DB_POOL_IDLE=10000

# ============================================
# Redis 配置
# ============================================
# Redis 主机地址
REDIS_HOST=localhost

# Redis 端口
REDIS_PORT=6379

# Redis 密码（如果没有密码则留空）
REDIS_PASSWORD=0408

# Redis 数据库索引（0-15）
REDIS_DB=0

# ============================================
# JWT 认证配置
# ============================================
# JWT 访问令牌密钥（至少 32 个字符，生产环境必须使用强密钥）
JWT_SECRET=your_jwt_secret_key_here_min_32_characters

# JWT 刷新令牌密钥（至少 32 个字符，生产环境必须使用强密钥）
JWT_REFRESH_SECRET=your_jwt_refresh_secret_key_here_min_32_characters

# 访问令牌有效期（默认 30 分钟）
JWT_ACCESS_EXPIRES_IN=30m

# 刷新令牌有效期（默认 7 天）
JWT_REFRESH_EXPIRES_IN=7d

# JWT 自动刷新阈值（在令牌过期前多久自动刷新，单位：分钟，默认 5）
JWT_AUTO_REFRESH_THRESHOLD=5

# ============================================
# SMTP 邮件配置
# ============================================
# SMTP 服务器地址（126 邮箱示例: smtp.126.com）
SMTP_HOST=smtp.126.com

# SMTP 服务器端口（SSL: 465, TLS: 587）
SMTP_PORT=465

# 是否使用 SSL（true | false）
SMTP_SECURE=true

# SMTP 用户名（邮箱地址）
SMTP_USER=your_email@126.com

# SMTP 密码或授权码
SMTP_PASSWORD=0408

# 发件人邮箱地址
SMTP_FROM=your_email@126.com

# 邮件验证码有效期（分钟，默认 10）
# EMAIL_CODE_EXPIRES=10

# ============================================
# CORS 跨域配置
# ============================================
# 允许的源列表（多个源用逗号分隔）
# 开发环境示例: http://localhost:3000,http://localhost:8080
# 生产环境示例: https://yourdomain.com,https://www.yourdomain.com
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# ============================================
# HTTPS 配置
# ============================================
# 是否启用 HTTPS（true | false）
# 生产环境建议启用
HTTPS_ENABLED=false

# SSL 证书文件路径（fullchain.pem）
HTTPS_CERT_PATH=./ssl/fullchain.pem

# SSL 私钥文件路径（privkey.pem）
HTTPS_KEY_PATH=./ssl/privkey.pem

# ============================================
# 文件上传配置
# ============================================
# 图片上传大小限制（MB，默认 5）
# UPLOAD_IMAGE_MAX_SIZE=5

# 文件上传大小限制（MB，默认 10）
# UPLOAD_FILE_MAX_SIZE=10

# 文件上传目录
# UPLOAD_DIR=./uploads

# ============================================
# 日志配置
# ============================================
# 日志级别: error | warn | info | debug
# LOG_LEVEL=info

# 日志文件目录
# LOG_DIR=./logs

# ============================================
# 其他配置
# ============================================
# 密码加密 salt rounds（默认 10）
# BCRYPT_SALT_ROUNDS=10

# 浏览量防重复计数时间（分钟，默认 5）
# VIEW_COUNT_LOCK_TIME=5

# 浏览量同步到数据库的间隔（小时，默认 1）
# VIEW_COUNT_SYNC_INTERVAL=1
